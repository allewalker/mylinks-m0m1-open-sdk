#include <mt_types.h>
//#ifdef CONFIG_AT_CMD_FUNC

#define isnum(c)    (c>='0' && c<='9') //ascii 0~9
#define upcase(c)   (c>='A' && c<='Z') //ascii A~Z
#define lowcase(c)  (c>='a' && c<='z')//ascii a~z
#define UART_TX_BUF_SIZE 2048
#define UART_BR_TB       16
#define AT_MAX_ARGV      15


enum
{
    NUL   = 0x00,
    BS    = 0x08,
    TAB   = 0x09,
    LF    = 0x0a,
    CR    = 0x0d,
    ESC   = 0x1b,
    SPACE = 0X20,
    UP    = 0x41,//ESC[A
    DOWN  = 0x42,//ESC[B
    RIGHT = 0x43,//ESC[C
    LEFT  = 0x44,//ESC[D
    DEL   = 0x7f,
};

enum
{
    STATE_ESC_NONE  = 0,
    STATE_ESC_START = 1,
    STATE_ESC_CODE  = 2,
};

enum
{
    at_ERR_TRANS       =  2,
    at_ERR_HELP        =  1,
    at_ERR_OK          =  0,
    at_ERR_OP          = -1,
    at_ERR_PARM        = -2,
    at_ERR_LAST        = -3,
};

typedef struct
{
    const char *atcmd;
    int (*func) (int argc, char *argv[], char *op[]);
    const char *msg;
} atcmdt;

struct serial_buffer
{
	unsigned short		buffsize;
	unsigned short		space;
	u8		*purbuff;
	u8		*pin;
	u8		*pout;
	//struct serial_buffer *next;
};


int uart_recv_sem_give(int ev_num);
int uart_recv_sem_wait(void);
int at_cmd_start(void);
int at_cmd_loop(char *at_cmd_buf, char *at_cmd_len, char *at_cmd_state);
int at_cmd_proc(int argc, char **argv, char *op[]);
int get_at_args(const char *string, char *argv[], char *op[]);
void at_cmd_thread(void *arg);
void at_cmd_init(void);

extern void at_cmdProcess(unsigned char *pAtRcvData);

//#endif
